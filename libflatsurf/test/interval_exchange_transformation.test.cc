/**********************************************************************
 *  This file is part of flatsurf.
 *
 *        Copyright (C) 2020 Vincent Delecroix
 *        Copyright (C) 2020 Julian RÃ¼th
 *
 *  Flatsurf is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  Flatsurf is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with flatsurf. If not, see <https://www.gnu.org/licenses/>.
 *********************************************************************/

#include <string>

#include <exact-real/element.hpp>
#include <exact-real/number_field.hpp>

#include "../flatsurf/interval_exchange_transformation.hpp"
#include "../flatsurf/flat_triangulation.hpp"
#include "../flatsurf/flat_triangulation_collapsed.hpp"
#include "../flatsurf/vector.hpp"
#include "../flatsurf/cereal.hpp"

#include "external/catch2/single_include/catch2/catch.hpp"
#include "external/cereal/include/cereal/archives/json.hpp"

namespace flatsurf::test {

TEST_CASE("Flip edges in a Surface to Make a Unique Large Edge", "[interval_exchange_transformation][make_unique_large_edge]") {
  SECTION("An unfolding of (1, 1, 2, 3) that took a very long time at some point") {
    using T = exactreal::Element<exactreal::NumberField>;

    std::shared_ptr<FlatTriangulation<T>> surface;

    {
      std::string blob = 
          "{'cereal': "
          "{'polymorphic_id': 1073741824, 'ptr_wrapper': {'id': 2147483649, 'data': {'combinatorial': {'vertices': {'cycles': [[-3, 13, -15, 22, -24, 40, -42, 28, -30, 37, -39, 19, -21, 10, -12, 31, -33, 34, -36, 25, -27, 7, -9, 16, -18, 4, -6, 1], [8, -7, 29, -28, 14, -13, 32, -31, 38, -37, 17, -16, 35, -34, 23, -22, 5, -4, 20, -19, 41, -40, 26, -25, 11, -10, 2, -1], [21, -20, 18, -17, 30, -29, 27, -26, 24, -23, 33, -32, 3, -2], [15, -14, 42, -41, 39, -38, 12, -11, 36, -35, 9, -8, 6, -5]]}, 'faces': {'cycles': [[-3, 13, -15, 22, -24, 40, -42, 28, -30, 37, -39, 19, -21, 10, -12, 31, -33, 34, -36, 25, -27, 7, -9, 16, -18, 4, -6, 1], [8, -7, 29, -28, 14, -13, 32, -31, 38, -37, 17, -16, 35, -34, 23, -22, 5, -4, 20, -19, 41, -40, 26, -25, 11, -10, 2, -1], [21, -20, 18, -17, 30, -29, 27, -26, 24, -23, 33, -32, 3, -2], [15, -14, 42, -41, 39, -38, 12, -11, 36, -35, 9, -8, 6, -5]]}}, 'vectors': [{'key': -42, 'value': {'x': {'parent': {'shared': 2147483650, 'basis': [{'shared': 2147483651, 'kind': '" \
        "rational', 'value': '1'}, {'shared': 2147483652, 'kind': 'constrained', 'initial': {'data': '9a9795396b8e1987 -40', 'approximation': 0.6038754716096765}, 'e': -64, 'inner': {'shared': 2147483653, 'kind': 'random', 'seed': 1337}}], 'ring': {'field': {'shared': 2147483654, 'rational': false, 'name': 'c', 'embedding': '[1.9498558243636472140362633659878624344655716012399948752961591501752918633 +/- 6.27e-74]', 'minpoly': 'c^6 - 7*c^4 + 14*c^2 - 7', 'precision': 64}}}, 'coefficients': [{'cereal_class_version': 0, 'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': 42, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887" \
        ")', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': -41, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 41, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coeffi" \
        "cients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': -40, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': 40, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients':" \
        "[{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': -39, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 2147483655, 'rational': false, 'name': 'a', 'embedding': '1e+0', 'minpoly': 'a-1', 'precision': 64}, 'value': '0', 'double': 0.0}]}}}, {'key': 39, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coeffic" \
        "ients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 7}, 'value': '0', 'double': 0.0}]}}}, {'key': -38, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 7}, 'value': '-1', 'double': -1.0}]}, 'y': {'parent': {'shared': 2147483656, 'basis': [], 'ring': {'field': {'shared': 7}}}, 'coefficients': []}}}, {'key': 38, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 7}, 'value': '1', 'double': 1.0}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': -37, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 7}, 'value': '1', 'double': 1.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': " \
        "'(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 7}, 'value': '0', 'double': 0.0}]}}}, {'key': 37, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 7}, 'value': '-1', 'double': -1.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 7}, 'value': '0', 'double': 0.0}]}}}, {'key': -36, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key':" \
        "36, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': -35, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': 35, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shar" \
        "ed': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': -34, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': 34, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'p" \
        "arent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': -33, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2 ~ -0.50000000)', 'double': -0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 2*c^3 + 3/2*c ~ 2.1906431)', 'double': 2.1906431337674115}]}}}, {'key': 33, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)'" \
        ", 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2 ~ 0.50000000)', 'double': 0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 2*c^3 - 3/2*c ~ -2.1906431)', 'double': -2.1906431337674115}]}}}, {'key': -32, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 3/2 ~ 0.40096887)', 'double': 0.40096886790241915}, {'parent': {'shared': 7}, 'value': '(-1/2 ~ -0.50000000)', 'double': -0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 2*c^3 - 3/2*c ~ -2.1906431)', 'double': -2.1906431337674115}]}}}, {'key': 32, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 3/2 ~ -0.40096887)', 'double': -0.400" \
        "96886790241915}, {'parent': {'shared': 7}, 'value': '(1/2 ~ 0.50000000)', 'double': 0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 2*c^3 + 3/2*c ~ 2.1906431)', 'double': 2.1906431337674115}]}}}, {'key': -31, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 7}, 'value': '1', 'double': 1.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 7}, 'value': '0', 'double': 0.0}]}}}, {'key': 31, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 7}, 'value': '-1', 'double': " \
        "-1.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 7}, 'value': '0', 'double': 0.0}]}}}, {'key': -30, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2 ~ -0.50000000)', 'double': -0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 2*c^3 - 3/2*c ~ -2.1906431)', 'double': -2.1906431337674115}]}}}, {'key': 30, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2 ~ 0.50000000)', 'double': 0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficie" \
        "nts': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 2*c^3 + 3/2*c ~ 2.1906431)', 'double': 2.1906431337674115}]}}}, {'key': -29, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 3/2 ~ -1.1234898)', 'double': -1.1234898018587336}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1/2 ~ 1.4009689)', 'double': 1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 3*c ~ -1.4088117)', 'double': -1.4088116512993818}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}]}}}, {'key': 29, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 3/2 ~ 1.1234898)', 'double': 1.1234898018587336}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1/2 ~ -1.4009689)', 'double': -1.400968867902419}]}, " \
        "'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 3*c ~ 1.4088117)', 'double': 1.4088116512993818}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}]}}}, {'key': -28, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': 28, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90" \
        "096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': -27, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 3/2*c^2 - 1/2 ~ -2.0244587)', 'double': -2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': 27, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, " \
        "{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 3/2*c^2 + 1/2 ~ 2.0244587)', 'double': 2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': -26, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-c^2 + 2 ~ -1.8019377)', 'double': -1.8019377358048383}, {'parent': {'shared': 6}, 'value': '(c^4 - 4*c^2 + 3 ~ 2.2469796)', 'double': 2.246979603717467}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': 26, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(c^2 - 2 ~ 1.8019377)', 'double': 1.8019377358048383}, {'parent': {'shared': 6}, 'value': '(-c^4 + 4*c^2 - 3 ~ -2.2469796)', 'double': -2.246979603717467}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': -25, 'value': {" \
        "'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 25, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0." \
        "9749279121818236}]}}}, {'key': -24, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 3/2*c^2 - 1/2 ~ -2.0244587)', 'double': -2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 12, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': -11, 'value':" \
        "{'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': 11, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': -10, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.62348980185" \
        "87335}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 10, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': -9, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - " \
        "5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': 9, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': -8, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficient" \
        "s': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': 8, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': -7, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818" \
        "236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': 7, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': -6, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '1', 'double': 1.0}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': 3, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980" \
        ")', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1/2 ~ -1.4009689)', 'double': -1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}]}}}, {'key': -2, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 2 ~ 1.6234898)', 'double': 1.6234898018587336}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 3/2*c^2 - 1/2 ~ -2.0244587)', 'double': -2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': 2, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(" \
        "-1/2*c^4 + 2*c^2 - 2 ~ -1.6234898)', 'double': -1.6234898018587336}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 3/2*c^2 + 1/2 ~ 2.0244587)', 'double': 2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 1, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '1', 'double': 1.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'shared': 2147483657, 'basis': [{'shared': 4}], 'ring': {'field': {'shared': 6}}}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': -1, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '-1', 'double': -1.0}, {'parent': {'share" \
        "d': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 9}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': -3, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1/2 ~ 1.4009689)', 'double': 1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}]}}}, {'key': 4, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '1', 'double': 1.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'s" \
        "hared': 9}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': -4, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '-1', 'double': -1.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 9}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': 5, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 9}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': -5, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '0', 'double'" \
        ": 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'shared': 9}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': 6, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 7}, 'value': '-1', 'double': -1.0}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': -12, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': 13, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{" \
        "'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': -13, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': 14, 'value': {'x'" \
        ": {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': -14, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '0', 'double': 0.0}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': 15, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': " \
        "0.2225209339563144}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': -15, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '0', 'double': 0.0}]}}}, {'key': 16, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1 ~ 0.90096887)', 'double': 0.9009688679024191}]}, 'y': {'parent': {'shared':" \
        "2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}]}}}, {'key': -16, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 5/2*c ~ -0.43388374)', 'double': -0.4338837391175581}]}}}, {'key': 17, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 3/2 ~ -0.40096887)', 'double': -0.40096886790241915}, {'parent': {'shared': 6}, 'value': '(1/2 ~ 0.50000000)', 'double': 0.5}]}, 'y': {'parent" \
        "': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}, {'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 2*c^3 - 3/2*c ~ -2.1906431)', 'double': -2.1906431337674115}]}}}, {'key': -17, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^2 - 3/2 ~ 0.40096887)', 'double': 0.40096886790241915}, {'parent': {'shared': 6}, 'value': '(-1/2 ~ -0.50000000)', 'double': -0.5}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}, {'parent': {'shared': 6}, 'value': '(1/2*c^5 - 2*c^3 + 3/2*c ~ 2.1906431)', 'double': 2.1906431337674115}]}}}, {'key': 18, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1/2 ~ -1.4009689)', 'double': -1.400968867902419" \
        "}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}]}}}, {'key': -18, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1/2 ~ 1.4009689)', 'double': 1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}]}}}, {'key': 19, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0" \
        ".22252093)', 'double': 0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': -19, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': 20, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 2 ~ -1.6234898)', 'double': -1.6234898018587336}, {'parent': {'shared'" \
        ": 6}, 'value': '(1/2*c^4 - 3/2*c^2 + 1/2 ~ 2.0244587)', 'double': 2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}}}, {'key': -20, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 2 ~ 1.6234898)', 'double': 1.6234898018587336}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 3/2*c^2 - 1/2 ~ -2.0244587)', 'double': -2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}, {'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}]}}}, {'key': 21, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '1', 'double': 1.0}, {'parent': {'shared': 6}, 'value':" \
    "'(-c^4 + 4*c^2 - 3 ~ -2.2469796)', 'double': -2.246979603717467}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': -21, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '-1', 'double': -1.0}, {'parent': {'shared': 6}, 'value': '(c^4 - 4*c^2 + 3 ~ 2.2469796)', 'double': 2.246979603717467}]}, 'y': {'parent': {'shared': 8}, 'coefficients': []}}}, {'key': 22, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 5/2*c^2 - 5/2 ~ -0.22252093)', 'double': -0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 1 ~ -0.62348980)', 'double': -0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c ~ 0.97492791)', 'double': 0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 3/2*c ~ -0.78183148)', 'double': -0.7818314824680298}]}}}, {'key': -22, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {" \
        "'shared': 6}, 'value': '(1/2*c^4 - 5/2*c^2 + 5/2 ~ 0.22252093)', 'double': 0.2225209339563144}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 1 ~ 0.62348980)', 'double': 0.6234898018587335}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 3/2*c ~ 0.78183148)', 'double': 0.7818314824680298}]}}}, {'key': 23, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^4 - 2*c^2 + 3/2 ~ 1.1234898)', 'double': 1.1234898018587336}, {'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1/2 ~ -1.4009689)', 'double': -1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^5 + 5/2*c^3 - 3*c ~ -1.4088117)', 'double': -1.4088116512993818}, {'parent': {'shared': 6}, 'value': '(1/2*c^3 - 1*c ~ 1.7567594)', 'double': 1.7567593946498534}]}}}, {'key': -23, 'value': {'x': {'parent': {'" \
        "shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^4 + 2*c^2 - 3/2 ~ -1.1234898)', 'double': -1.1234898018587336}, {'parent': {'shared': 6}, 'value': '(1/2*c^2 - 1/2 ~ 1.4009689)', 'double': 1.400968867902419}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 3*c ~ 1.4088117)', 'double': 1.4088116512993818}, {'parent': {'shared': 6}, 'value': '(-1/2*c^3 + 1*c ~ -1.7567594)', 'double': -1.7567593946498534}]}}}, {'key': 24, 'value': {'x': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(-1/2*c^2 + 1 ~ -0.90096887)', 'double': -0.9009688679024191}, {'parent': {'shared': 6}, 'value': '(1/2*c^4 - 3/2*c^2 + 1/2 ~ 2.0244587)', 'double': 2.024458669761153}]}, 'y': {'parent': {'shared': 2}, 'coefficients': [{'parent': {'shared': 6}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 6}, 'value': '(-1/2*c ~ -0.97492791)', 'double': -0.9749279121818236}]}" \
        "}}]}}}"
        "}";
      std::replace(begin(blob), end(blob), '\'', '"');

      std::istringstream stream(blob);
      ::cereal::JSONInputArchive archive(stream);
      archive(::cereal::make_nvp("cereal", surface));
    }

    Vector<T> vertical;

    {
      std::string blob = 
          "{'cereal': "
          "{'x': {'parent': {'shared': 2147483649, 'basis': [{'shared': 2147483650, 'kind': 'rational', 'value': '1'}, {'shared': 2147483651, 'kind': 'constrained', 'initial': {'data': '9a9795396b8e1987 -40', 'approximation': 0.6038754716096765}, 'e': -64, 'inner': {'shared': 2147483652, 'kind': 'random', 'seed': 1337}}], 'ring': {'field': {'shared': 2147483653, 'rational': false, 'name': 'c', 'embedding': '[1.9498558243636472140362633659878624344655716012399948752961591501752918633 +/- 6.27e-74]', 'minpoly': 'c^6 - 7*c^4 + 14*c^2 - 7', 'precision': 64}}}, 'coefficients': [{'cereal_class_version': 0, 'parent': {'shared': 5}, 'value': '(1/2*c^2 ~ 1.9009689)', 'double': 1.900968867902419}, {'parent': {'shared': 5}, 'value': '(-1/2*c^4 + 3*c^2 - 7/2 ~ 0.67844793)', 'double': 0.6784479339461047}]}, 'y': {'parent': {'shared': 1}, 'coefficients': [{'parent': {'shared': 5}, 'value': '(1/2*c^5 - 5/2*c^3 + 5/2*c ~ 0.43388374)', 'double': 0.4338837391175581}, {'parent': {'shared': 5}, 'value': '(1/2*c^5 - 3/2*c^3 ~ 2.9724746)', 'double': 2.9724746162354414}]}}"
          "}";
      std::replace(begin(blob), end(blob), '\'', '"');

      std::istringstream stream(blob);
      ::cereal::JSONInputArchive archive(stream);
      archive(::cereal::make_nvp("cereal", vertical));
    }

    auto collapsed = FlatTriangulationCollapsed<T>::make(surface->clone(), vertical);
    IntervalExchangeTransformation<FlatTriangulationCollapsed<T>>::makeUniqueLargeEdges(*collapsed, vertical);
  }
}

}
